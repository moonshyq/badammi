<!DOCTYPE html>
<!--[if IE 7]><html class="no-js ie7 oldie" lang="en-US"> <![endif]-->
<!--[if IE 8]><html class="no-js ie8 oldie" lang="en-US"> <![endif]-->
<!--[if gt IE 8]><!-->
<html lang="en">
    <head>
        <meta charset="utf-8">
        <!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="Fruits,Nuts,Vegetables">
        <meta name="author" content="Badammi">

        <title>Badammi</title>

        <!-- Favicon -->
        <link rel="apple-touch-icon" sizes="144x144" href="assets/ico/apple-touch-icon-144-precomposed.png">
        <link rel="shortcut icon" href="assets/ico/favicon.ico">

        <!-- Font Icon -->
        <link href="assets/css/plugin/font-awesome.min.css" rel="stylesheet" type="text/css">  

        <!-- CSS Global -->
        <link href="assets/css/plugin/bootstrap.min.css" rel="stylesheet" type="text/css">  
        <link href="assets/css/plugin/bootstrap-select.min.css" rel="stylesheet" type="text/css"> 
        <link href="assets/css/plugin/owl.carousel.css" rel="stylesheet" type="text/css">
        <link href="assets/css/plugin/animate.css" rel="stylesheet" type="text/css"> 
        <link href="assets/css/plugin/jquery-ui.min.css" rel="stylesheet" type="text/css"> 
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">

        <!-- Custom CSS -->
        <link href="assets/css/theme.css" rel="stylesheet" type="text/css">

        <!-- Color CSS --> 

        <!--[if lt IE 9]>
        <script src="assets/js/plugin/html5shiv.js"></script>
        <script src="assets/js/plugin/respond.js"></script>
        <![endif]-->        
    </head>

    <body id="home" class="wide">

        <div id="loading">
            <div class="loader">
                <div class="dot"></div>
                <div class="dot"></div>
                <div class="dot"></div>
                <div class="dot"></div>
                <div class="dot"></div>
            </div>
        </div>

        <!-- WRAPPER -->
        <main class="wrapper"> 
            <!-- CONTENT AREA -->

            <!-- Main Header Start -->
            <header class="main-header white-bg">                  
                <div class="container-fluid rel-div">
                    <div class="col-lg-4 col-sm-8">
                        <div class="main-logo">
                            <a href="index.html"> <img alt="" src="assets/img/logo/main-logo.png" />  </a>
                            <span class="medium-font">ORGANIC STORE</span>
                        </div>
                    </div>

                   <div class="col-lg-6 responsive-menu">  
                        <div class="responsive-toggle fa fa-bars"> </div>
                        <nav class="fix-navbar" id="primary-navigation">            
                            <ul class="primary-navbar">                                                
                                <li class="dropdown">
                                    <a href="index.html">Home</a>                                            
                                </li> 
                                <li><a href="about-us.html">About Us</a></li>
                                <li class="dropdown active"> <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" >Fresh products</a> 
                                    <ul id="fresh"class="dropdown-menu"> </ul> 
                                </li>
                                <li class="dropdown"> <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" >Dried products</a> 
                                    <ul class="dropdown-menu"> </ul> 
                                </li>  
                                <li><a href="contact.html">Contact Us</a></li>   
                                        </li> 
                                    </ul>
                                </li>
                            </ul>                           
                        </nav>
                    </div>
                    <div class="responsive-toggle fa fa-bars"> </div>
                </div>  
            </header>
            <!-- / Main Header Ends -->   

            <!--Breadcrumb Section Start-->
            <!--Breadcrumb Section End-->


            <!-- Shop Starts-->
<section class="shop-wrap sec-space-bottom">
<div class="container rel-div pt-50">
         <div class="row align-items-start product-layout">
            
    <!-- –ë–ª–æ–∫ —Å —Ç–µ–∫—Å—Ç–æ–º -->
        <div class="col-lg-6 order-2 product-info">
            <h3 class="section-title">
                <a href="#">
                    <strong id="fruit-name">–ù–∞–∑–≤–∞–Ω–∏–µ</strong>
                </a>
        </h3>
        <span class="divider-2"></span>
        <div class="fsz-16">
            <p><strong><h3 id="composition-title">Composition:</h3></strong></p>
            <p id="fruit-description"><h2></h2></p>
            <div>
    <div class="fsz-16">
            <p><strong><h3 id="benefits-title">Benefits:</h3></strong></p>
            <ul id="fruit-benefits"><h2></h2></ul>
        </div>
</div>
        </div>
        
    </div>

    <!-- –§–æ—Ç–æ -->
    <div class="col-lg-6 order-1 product-photo">
         <button class="arrow left" onclick="prevPhoto()">
        <i class="fa-solid fa-chevron-left"></i>
    </button>
    <div class="prod-slider sync1"></div>
        <button class="arrow right" onclick="nextPhoto()">
        <i class="fa-solid fa-chevron-right"></i>
    </button>

     <div class="sync2-container">
            <div class="sync2 owl-carousel"></div>
        </div>
    </div>
    
</div>



 <p><strong><h3 style="color: black;">Packaging type</h3></strong></p>
 <div class="tab-content shop-content"> 
        <div id="grid-view" class="tab-pane fade active in check" role="tabpanel">
            <div id="product" class="row">  

            </div>
        </div>
</div>

 <p><strong><h3 style="color: black;">More fresh product</h3></strong></p>
<div class="container rel-div">
                    <div class="divider-full-1"></div>
                    <div class="tab-content shop-content"> 
                    <div id="list-view" class="tab-pane fade active in" role="tabpanel">
                            <div id="listproduct" class="row"> 
                                
                            </div>
                        </div>
                    </div>
</div> 
            </section>
            <!-- / Shop Ends -->      

            <!-- / CONTENT AREA -->

            <!-- FOOTER -->
            <footer class="page-footer" > 
                <section class="sec-space light-bg">
                    <div class="container">
                        <div class="row">
                            <div class="col-md-3 col-sm-12 footer-widget">
                                <div class="main-logo">
                                    <a href="index.html"> <img alt="" src="assets/img/logo/main-logo.png" />  </a>
                                    <span class="medium-font">ORGANIC STORE</span>
                                </div>
                                <span class="divider-2"></span>
                                <div class="text-widget">
                                    <ul>
                                        <li> <i class="fa fa-map-marker"></i> <strong>Nerimaov Aga Neymatulla</strong> </li>
                                        <li> <i class="fa fa-envelope-square"></i> <span><a href="#">info@badammi.com</a> </span> </li>
                                        <li> <i class="fa fa-phone-square"></i> <span><a href="#">+994519640000</a> </span> </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="col-md-3 col-sm-4 footer-widget" >
                                <h2 class="title-1">  <span class="light-font">badammi  </span> <strong>information </strong> </h2>
                                <span class="divider-2"></span>
                                <ul class="list">
                                    <li> <a href="about-us.html"> About us </a> </li>
                                    <li> <a href="index.html"> All Producs </a> </li>
                                    <li>
                                        <div class="social-icons" style="margin-top: 15px;">
                                            <a href="https://www.youtube.com/" target="_blank" style="margin-right: 10px; color: #ff0000;">
                                                <i class="fab fa-youtube fa-lg"></i>
                                            </a>
                                            <a href="https://www.facebook.com/" target="_blank" style="margin-right: 10px; color: #1877f2;">
                                                <i class="fab fa-facebook fa-lg"></i>
                                            </a>
                                            <a href="https://www.instagram.com/" target="_blank" style="color: #e4405f;">
                                                <i class="fab fa-instagram fa-lg"></i>
                                            </a>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </section>
            </footer>
            <!-- /FOOTER -->

<div id="to-top-mb" class="to-top mb"> <i class="fa fa-arrow-circle-o-up"></i> </div>

        </main>
        <!-- /WRAPPER -->

        <!-- JS Global -->
        <script src="assets/js/plugin/jquery-2.2.4.min.js"></script>   
        <script src="assets/js/plugin/bootstrap.min.js"></script>
        <script src="assets/js/plugin/bootstrap-select.min.js"></script>       
        <script src="assets/js/plugin/owl.carousel.min.js"></script>
        <script src="assets/js/plugin/jquery-ui.min.js"></script>

        <!-- Custom JS -->   
        <script src="assets/js/theme.js"></script>


<script>
    let photo;
$(document).ready(function () {
    async function loadFruit() {
    const container = $("#product");
        try {
            const fruitId = new URLSearchParams(window.location.search).get("id");
            if (!fruitId) return console.warn("‚ùå Id –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ URL");

            const apiUrl = `https://badammi.com:5000/Fruits/ShopOne?id=${fruitId}`;
            const response = await fetch(apiUrl, { headers: { "ngrok-skip-browser-warning": "true" } });
            if (!response.ok) throw new Error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö: " + response.status);
            const fruit = await response.json();

            $("#fruit-name").text(fruit.name);
            $("#fruit-description").text(`${fruit.composition}`);

            if (fruit.color) {
                $("#fruit-name").css("color", fruit.color);
            }

            const mainSlider = $(".prod-slider.sync1");
            const thumbSlider = $(".sync2");
            mainSlider.empty();
            thumbSlider.empty();

            const mainImgUrl = `https://badammi.com:5000/photos/${fruit.id}.png`;
            const thumbnails = [mainImgUrl];

function addLineBreaks(text, wordsPerLine = 3) {
    const words = text.split(' ');
    let result = '';
    for (let i = 0; i < words.length; i++) {
        result += words[i] + ' ';
        if ((i + 1) % wordsPerLine === 0) result += '\n';
    }
    return result.trim();
}

            console.log(fruit.childPhotoText[0])
            if (fruit.childPhotoPath && fruit.childPhotoPath.length > 0) {
                fruit.childPhotoPath.forEach((_, index) => {
                    const processedComposition = addLineBreaks(fruit.childPhotoText[index], 3);
                    const imgUrl = `https://badammi.com:5000/photos/${fruit.id}_${index + 1}.png`;
                    const card = `
                <div class="col-lg-3 col-md-4 col-sm-6"> 
                    <div class="product-box"> 
                        <div class="product-media"> 
                            <img class="prod-img" alt="${fruit.name}" src="${imgUrl}" />     
                        </div>                                           
                        <div class="product-caption"> 
                            <h3 class="product-title">
                                <a href="#"><strong>${processedComposition}</strong></a>
                            </h3>
                        </div>
                    </div>
                </div>
            `;
            container.append(card);
                });
            }
            fruit.addedPhotoPath.forEach((_, index) => {
                    const imgUrl = `https://badammi.com:5000/photos/${fruit.id}_1_${index + 1}.png`;
                    thumbnails.push(imgUrl);
                });
            photo = thumbnails;

            // --- –ì–ª–∞–≤–Ω–∞—è —Ñ–æ—Ç–∫–∞ ---
            mainSlider.append(`
                <div class="item active">
                    <img id="main-photo" src="${mainImgUrl}" alt="${fruit.name}" style="width:350px;height:auto;object-fit:cover;border-radius:8px;cursor:grab;">
                </div>
            `);

            // --- –ú–∏–Ω–∏–∞—Ç—é—Ä—ã ---
            thumbnails.forEach((url, i) => {
                thumbSlider.append(`
                    <div class="item thumb" data-index="${i}">
                        <img src="${url}" alt="thumb ${i}" style="width:80px;height:80px;object-fit:cover;border:2px solid ${i===0?'#6ab04c':'transparent'};border-radius:6px;cursor:pointer;">
                    </div>
                `);
            });

            // --- –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ ---
            const benefitsList = $("#fruit-benefits");
            benefitsList.empty();
            if (fruit.benefits && fruit.benefits.length > 0) {
                fruit.benefits.forEach(benefit => benefitsList.append(`<li>${benefit}</li>`));
            }

            // --- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Owl Carousel ---
            mainSlider.owlCarousel({ items: 1, loop: false, dots: false, nav: true, navText: ["<",">"], smartSpeed: 500 });
           thumbSlider.owlCarousel({
    items: 5,
    margin: 10,
    dots: false,
    nav: true,          // –≤–∫–ª—é—á–∞–µ–º –∫–Ω–æ–ø–∫–∏
    navText: ["<",">"], // —Ç–µ–∫—Å—Ç –∫–Ω–æ–ø–æ–∫
    smartSpeed: 500,
    slideBy: 1,
    loop: false         // –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–µ –ª–∏—Å—Ç–∞–Ω–∏–µ, —Å—Ç–∞–≤–∏–º true
});

            // --- –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≥–ª–∞–≤–Ω–æ–≥–æ —Ñ–æ—Ç–æ ---
    function updateMainPhoto(index) {
    const newSrc = thumbnails[index];
     if(index < thumbnails.length && index >= 0){
    const mainPhoto = $("#main-photo");

    // –°–Ω–∞—á–∞–ª–∞ –¥–µ–ª–∞–µ–º fade out
    mainPhoto.css("opacity", "0");

    setTimeout(() => {
        mainPhoto.attr("src", newSrc);
        mainPhoto.css("opacity", "1"); // –ø–ª–∞–≤–Ω—ã–π fade in
    }, 200); // –ø–æ–ª–æ–≤–∏–Ω–∞ –≤—Ä–µ–º–µ–Ω–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞
     
    $(".sync2 .item img").css("border", "2px solid transparent");
    $(".sync2 .item").eq(index).find("img").css("border", "2px solid #6ab04c");
    }
}

            // --- –ö–ª–∏–∫ –ø–æ –º–∏–Ω–∏–∞—Ç—é—Ä–∞–º ---
            $(".sync2 .item img").on("click", function () {
                const index = $(this).parent().data("index");
                updateMainPhoto(index);
            });

            // --- Drag / swipe –≥–ª–∞–≤–Ω–æ–π —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ ---
            let startX = 0;
            let endX = 0;
            const mainPhoto = document.getElementById("main-photo");
            if (mainPhoto) {
            mainPhoto.ondragstart = () => false;
            }     
    function handleDrag() {
                const diff = endX - startX;
                let currentIndex = thumbnails.indexOf($("#main-photo").attr("src"));

                if (diff > 30) currentIndex = Math.max(currentIndex - 1, 0);
                else if (diff < -30) currentIndex = Math.min(currentIndex + 1, thumbnails.length - 1);

                updateMainPhoto(currentIndex);
            }
            mainPhoto.addEventListener("mousedown", e => startX = e.clientX);
            mainPhoto.addEventListener("mouseup", e => { endX = e.clientX; handleDrag(); });
            mainPhoto.addEventListener("touchstart", e => startX = e.touches[0].clientX);
            mainPhoto.addEventListener("touchend", e => { endX = e.changedTouches[0].clientX; handleDrag(); });

        } catch (error) {
            console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ—Ä—É–∫—Ç–∞:", error);
            $("#fruit-name").text("–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ—Ä—É–∫—Ç");
            $("#fruit-description").text("");
        }
        
    }

    loadFruit();
});

function updateMainPhoto(index) {
    const newSrc = photo[index];
    const mainPhoto = $("#main-photo");

    // –°–Ω–∞—á–∞–ª–∞ –¥–µ–ª–∞–µ–º fade out
    if(index < photo.length && index >= 0){
        mainPhoto.css("opacity", "0");

        setTimeout(() => {
            mainPhoto.attr("src", newSrc);
            mainPhoto.css("opacity", "1"); // –ø–ª–∞–≤–Ω—ã–π fade in
        }, 200); // –ø–æ–ª–æ–≤–∏–Ω–∞ –≤—Ä–µ–º–µ–Ω–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞
     
    
        $(".sync2 .item img").css("border", "2px solid transparent");
        $(".sync2 .item").eq(index).find("img").css("border", "2px solid #6ab04c");
    }
}

function nextPhoto() {
    let currentIndex = photo.indexOf($("#main-photo").attr("src"));
    updateMainPhoto(currentIndex + 1,photo.length - 1);
}

function prevPhoto() {
    let currentIndex = photo.indexOf($("#main-photo").attr("src"));
    updateMainPhoto(currentIndex - 1,0);
}   






// === –ó–∞–≥—Ä—É–∑–∫–∞ –≤—Å–µ—Ö —Ñ—Ä—É–∫—Ç–æ–≤ –¥–ª—è –º–µ–Ω—é ===
document.addEventListener("DOMContentLoaded", async () => {
    const apiUrl = "https://badammi.com:5000/Fruits/GetAllFruits";

    try {
        const response = await fetch(apiUrl, { headers: { "ngrok-skip-browser-warning": "true" } });
        if (!response.ok) throw new Error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ API");
        const fruits = await response.json();

        // --- Dried Products ---
        const driedDropdown = Array.from(document.querySelectorAll(".primary-navbar .dropdown")).find(drop => 
            drop.querySelector("a")?.textContent.toLowerCase().includes("dried products")
        );
        if (driedDropdown) {
            let driedMenu = driedDropdown.querySelector(".dropdown-menu");
            if (!driedMenu) { driedMenu = document.createElement("ul"); driedMenu.classList.add("dropdown-menu"); driedDropdown.appendChild(driedMenu); }
            driedMenu.innerHTML = "";
            fruits.filter(f => f.name.toLowerCase().includes("dried")).forEach(fruit => {
                const li = document.createElement("li");
                li.innerHTML = `<a class="fix-a" href="shop-single-dried.html?id=${fruit.id}">${fruit.name}</a>`;;
                driedMenu.appendChild(li);
            });
            driedMenu.innerHTML += `<li><a class="fix-a" href="shop-2.html"><strong>All catalog</strong></a></li>`;
        }

        // --- Fresh Products ---
        const freshMenu = document.getElementById("fresh");
        if (freshMenu) {
            freshMenu.innerHTML = "";
            fruits.filter(f => !f.name.toLowerCase().includes("dried")).forEach(fruit => {
                const li = document.createElement("li");
                li.innerHTML = `<a class="fix-a" href="shop-single.html?id=${fruit.id}">${fruit.name}</a>`;
                freshMenu.appendChild(li);
            });
            freshMenu.innerHTML += `<li><a class="fix-a" href="shop-1.html"><strong>All catalog</strong></a></li>`;
        }

    } catch (err) {
        console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ—Ä—É–∫—Ç–æ–≤:", err);
    }
});

</script>

<script>
    async function loadProducts() {
    const apiUrl = "https://badammi.com:5000/Fruits/GetAllFruits";
    const second = $("#listproduct"); // –≤—Ç–æ—Ä–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

    try {
        // –û—Å–Ω–æ–≤–Ω–æ–π –∑–∞–ø—Ä–æ—Å –∫ API —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º
        const response = await fetch(apiUrl, {
            headers: {
                "ngrok-skip-browser-warning": "true"
            }
        });

        if (!response.ok) throw new Error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö —Å API");

        const fruits = await response.json();
        console.log(fruits)
        
        // üî• –û—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ —Ç–µ –ø—Ä–æ–¥—É–∫—Ç—ã, –≥–¥–µ –ù–ï–¢ "dried" –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏
        const filteredFruits = fruits.filter(fruit =>
        !fruit.name.toLowerCase().includes("dried")
    );
    
        second.empty();
        second.show();
        let i = 1
        let allreadyadded = [];
        
        // –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º
        while (i <= 4) {
            if(i <= 4){               
            let rand = Math.floor(Math.random() * filteredFruits.length);
            if(allreadyadded.some(x => x === rand)){
                continue;
            }
            const photoResponse = await fetch(`https://badammi.com:5000/photos/${filteredFruits[rand].id}.png`, {
                headers: {
                    "ngrok-skip-browser-warning": "true"
                }
            });
            allreadyadded.push(rand);

            let photoUrl;
            if (photoResponse.ok) {
                const blob = await photoResponse.blob();
                photoUrl = URL.createObjectURL(blob);
            } else {
                photoUrl = "img/placeholder.png"; // –∑–∞–ø–∞—Å–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            }


            console.log(filteredFruits[rand].id);
            // –í—Ç–æ—Ä–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ (—Å–ø–∏—Å–∫–æ–º)
            const listCard = `
                <div class="col-md-6 col-sm-12" onclick="change(${filteredFruits[rand].id})"> 
                    <div class="deal-item list-view">
                        <div class="deal-content">
                            <div class="deal-text">
                                <h4 class="sub-title"> ORGANIC FRUITS </h4>
                                <h2 class="fsz-30 pb-15"> <a><strong>${filteredFruits[rand].name}</strong></a> </h2>
                                <p>${filteredFruits[rand].composition}</p>
                            </div>
                            <div class="img images"> 
                                <img alt="${filteredFruits[rand].name}" src="${photoUrl}">
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            second.append(listCard);
            }
            i++
            console.log(i);
        }
        console.log(second.length)

    } catch (error) {
        console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ:", error);
    }
}

function change(id){
    let toid = id
    window.location.href = `shop-single.html?id=${toid}`
    
}

$(document).ready(function() {
    loadProducts();
});
</script>
 
<style>
#listproduct .deal-text p {
    height: 60px;
    overflow: hidden;
    display: -webkit-box;
    -webkit-line-clamp: 3;       /* ‚Üê –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ! —Ä–∞–Ω—å—à–µ –±—ã–ª–æ -webkit-line-break */
    -webkit-box-orient: vertical;
    text-overflow: ellipsis;
    line-height: 1.4em;
    font-size: 14px;
    color: #555;
}


#product img {
    width: 100%;
    height: auto;
    object-fit: contain;
}

#product .product-item {
    display: flex;
    justify-content: center;
    align-items: center;
}

#product img {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
}


    
#fruit-benefits {
    list-style-type: disc;        /* –º–∞—Ä–∫–µ—Ä—ã –∫—Ä—É–∂–æ—á–∫–∞–º–∏ */
    font-size: 14px;
    line-height: 1.5em;
}

/* –ê–¥–∞–ø—Ç–∞—Ü–∏—è ‚Äî –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞—Ö —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Å—Ç–æ–ª–±–µ—Ü */
@media (max-width: 768px) {
    #fruit-benefits {
        column-count: 1;
    }
}

/* === 2. –û—Ç—Å—Ç—É–ø—ã –º–µ–∂–¥—É –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ —Å–Ω–∏–∑—É === */
#product {
    display: flex;
    flex-wrap: wrap;
    gap: 20px; /* —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ */
}

#product .col-lg-3,
#product .col-md-4,
#product .col-sm-6 {
    padding: 0; /* —É–±–∏—Ä–∞–µ–º –ª–∏—à–Ω–∏–µ –æ—Ç—Å—Ç—É–ø—ã Bootstrap */
    flex: 1 1 calc(25% - 20px); /* —á—Ç–æ–±—ã –∫–∞—Ä—Ç–æ—á–∫–∏ –∫—Ä–∞—Å–∏–≤–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è–ª–∏—Å—å */
    box-sizing: border-box;
}

@media (max-width: 991px) {
    #product .col-lg-3,
    #product .col-md-4,
    #product .col-sm-6 {
        flex: 1 1 calc(50% - 20px); /* 2 –∫–∞—Ä—Ç–æ—á–∫–∏ –≤ —Ä—è–¥ –Ω–∞ –ø–ª–∞–Ω—à–µ—Ç–µ */
    }
}

@media (max-width: 600px) {
    #product .col-lg-3,
    #product .col-md-4,
    #product .col-sm-6 {
        flex: 1 1 100%; /* –ø–æ –æ–¥–Ω–æ–π –∫–∞—Ä—Ç–æ—á–∫–µ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ */
    }
}

.product-box {
    height: 450px; /* –æ–±—â–∞—è –≤—ã—Å–æ—Ç–∞ –∫–∞—Ä—Ç–æ—á–∫–∏ */
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    align-items: center;
    text-align: center;
}

.product-media {
    width: 100%;
    aspect-ratio: 1 / 1; /* –∫–≤–∞–¥—Ä–∞—Ç */
    background-color: #f8f8f8; /* —Ñ–æ–Ω, –µ—Å–ª–∏ —Ñ–æ—Ç–æ –Ω–µ –∑–∞–ø–æ–ª–Ω—è–µ—Ç –≤—Å—ë */
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    border-radius: 16px 16px 0 0;
}

.product-media img {
    width: 100%;
    height: 100%;
    object-fit: contain; /* —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ü–µ–ª–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ */
    background-color: #fff;
    border-radius: 16px 16px 0 0;
}

.product-caption {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 10px;
    text-align: center;
    background-color: #fff;
    border-radius: 0 0 16px 16px;
}

.product-title strong {
    font-size: 16px;
    white-space: pre-line;
    line-height: 1.3em;
}

.product-box {
    border-radius: 100px;            /* —Å—Ç–µ–ø–µ–Ω—å –∑–∞–∫—Ä—É–≥–ª–µ–Ω–∏—è */
    overflow: hidden;               /* —á—Ç–æ–±—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–µ –≤—ã—Ö–æ–¥–∏–ª–æ –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã */
    box-shadow: 0 4px 12px rgba(0,0,0,0.15); /* –ª—ë–≥–∫–∞—è —Ç–µ–Ω—å –¥–ª—è –æ–±—ä—ë–º–∞ */
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.product-box:hover {
    transform: translateY(-15px);
    box-shadow: 0 8px 18px rgba(0,0,0,0.25);
}

.product-media img:hover {
    transform: scale(1.3);
    box-shadow: 0 8px 18px rgba(0,0,0,0.25);
}


.product-media img {
    border-radius: 16px 16px 0 0; /* —Å–∫—Ä—É–≥–ª—è–µ–º —Ç–æ–ª—å–∫–æ –≤–µ—Ä—Ö–Ω—é—é —á–∞—Å—Ç—å –∫–∞—Ä—Ç–∏–Ω–∫–∏ */
    width: 100%;
    height: auto;
    display: block;
}

.product-caption {
    background-color: #fff;
    border-radius: 0 0 16px 16px;  /* –Ω–∏–∂–Ω–∏–µ —É–≥–ª—ã */
    padding: 15px;
    text-align: center;
}

#fruit-name {
    font-size: 50px; /* –±—ã–ª–æ 22px */
    font-weight: 700; /* —á—Ç–æ–±—ã –≤—ã–¥–µ–ª—è–ª–æ—Å—å */
    text-transform: uppercase;
}

/* –ó–∞–≥–æ–ª–æ–≤–æ–∫ Composition */
#fruit-description {
    font-size: 16px; 
    
}

.fsz-16 {
    font-size: 24px; /* –∑–∞–≥–æ–ª–æ–≤–æ–∫ Composition */
    margin-bottom: 5px; /* —á—É—Ç—å –º–µ–Ω—å—à–µ –æ—Ç—Å—Ç—É–ø —Å–Ω–∏–∑—É */
}
.sync2-container {
    position: relative;
}

.sync2 .owl-nav {
    position: absolute;
    top: 50%;
    left: 0;
    width: 100%;
    display: flex;
    justify-content: space-between;
    transform: translateY(-50%);
    pointer-events: none; /* –ß—Ç–æ–±—ã –∫–Ω–æ–ø–∫–∏ –Ω–µ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–ª–∏—Å—å –º–∏–Ω–∏–∞—Ç—é—Ä–∞–º–∏ */
    z-index: 10;
}

.sync2 .owl-nav button {
    pointer-events: all;
    background: #6ab04c;
    color: white;
    border: none;
    padding: 5px 10px;
    border-radius: 4px;
    cursor: pointer;
    opacity: 1;
}

.product-title strong {
    white-space: pre-line; /* —É—á–∏—Ç—ã–≤–∞–µ—Ç —Å–∏–º–≤–æ–ª—ã \n */
}

.sync2 {
    display: flex;
    align-items: center;
    justify-content: flex-start;
     overflow: visible !important;
}

.sync2 .item {
    margin-right: 10px;
}

.sync2 .owl-nav {
    display: flex;
    justify-content: space-between;
    width: 100%;
}

.sync2 .owl-nav button {
    background: #6ab04c;
    color: white;
    border: none;
    padding: 5px 10px;
    border-radius: 4px;
    cursor: pointer;
}
#main-photo {
    width: 500px;       /* —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —à–∏—Ä–∏–Ω–∞ */
    height: 500px;      /* —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤—ã—Å–æ—Ç–∞ */
    object-fit: cover;  /* —á—Ç–æ–±—ã —Ñ–æ—Ç–æ –Ω–µ –∏—Å–∫–∞–∂–∞–ª–æ—Å—å, –∞ –æ–±—Ä–µ–∑–∞–ª–æ—Å—å –ø–æ —Ä–∞–º–∫–µ */
    border-radius: 12px;
    cursor: grab;
    transition: transform 0.4s ease, opacity 0.4s ease;
    box-shadow: 0 4px 15px rgba(0,0,0,0.2);
}

@media (max-width: 991px) {
    #main-photo {
        width: 100%;
        height: auto; /* –∏–ª–∏ height: 350px; –µ—Å–ª–∏ —Ö–æ—á–µ—à—å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—É—é –≤—ã—Å–æ—Ç—É */
        max-width: 350px;
    }
}

.product-layout {
    display: flex;
    align-items: flex-start;
    gap: 40px;
    flex-wrap: wrap;
}


/* –ß—Ç–æ–±—ã –Ω–∞ –ü–ö —Ç–µ–∫—Å—Ç –±—ã–ª —Å–ø—Ä–∞–≤–∞ */
@media (min-width: 992px) {
    .product-info {
        order: 2;
        padding-right: 300px; /* —Ç–µ–∫—Å—Ç –±—É–¥–µ—Ç –ø–µ—Ä–≤—ã–º ‚Äî —Å–ø—Ä–∞–≤–∞ */
    }
    .product-photo {
        order: 1; /* —Ñ–æ—Ç–æ –≤—Ç–æ—Ä–æ–µ ‚Äî —Å–ª–µ–≤–∞ */
    }

    .product-layout {
        flex-wrap: nowrap; /* —á—Ç–æ–±—ã –∫–æ–ª–æ–Ω–∫–∏ –Ω–µ –ø–µ—Ä–µ–Ω–æ—Å–∏–ª–∏—Å—å */
    }

    .product-info, .product-photo {
        flex: 1;
    }
}
/* –ù–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ —Ç–µ–∫—Å—Ç –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –Ω–∞–≤–µ—Ä—Ö */
@media (max-width: 991px) {
    .product-info {
        order: 1;
        width: 100%;
        text-align: center;
        margin-bottom: 20px;
    }

    .product-photo {
        order: 2;
        width: 100%;
        text-align: center;
    }

    #fruit-name {
        font-size: 50px;
    }

    #fruit-description {
        font-size: 22px;
    }
}

</style>
<div id="fullscreen-view" style="
    display: none;
    position: fixed;
    top: 0; left: 0;
    width: 100vw; height: 100vh;
    background: rgba(0,0,0,0.9);
    justify-content: center;
    align-items: center;
    z-index: 9999;
">
    <button id="fullscreen-prev" style="
        position: absolute; left: 30px; top: 50%;
        transform: translateY(-50%);
        background: none; border: none; color: white;
        font-size: 60px; cursor: pointer;
        user-select: none;
    ">‚Äπ</button>

    <img id="fullscreen-img" src="" style="
        max-width: 90vw;
        max-height: 90vh;
        object-fit: contain;
        border-radius: 12px;
        transition: opacity 0.25s ease;
        cursor: zoom-out;
        display: block;
    " />

    <button id="fullscreen-next" style="
        position: absolute; right: 30px; top: 50%;
        transform: translateY(-50%);
        background: none; border: none; color: white;
        font-size: 60px; cursor: pointer;
        user-select: none;
    ">‚Ä∫</button>
</div>

<script>
$(document).ready(function () {
    let thumbnails = [];
    let isDragging = false;
    let currentIndex = 0;
    let startX = 0;

    // –°–æ–±–∏—Ä–∞–µ–º –≤—Å–µ –º–∏–Ω–∏–∞—Ç—é—Ä—ã
    function collectThumbnails() {
        thumbnails = $(".sync2 .item img").map(function () {
            return $(this).attr("src");
        }).get();
    }

    // –û–±–Ω–æ–≤–∏—Ç—å fullscreen-—Ñ–æ—Ç–æ
    function changeFullscreenPhoto() {
        $("#fullscreen-img").css("opacity", "0");
        setTimeout(() => {
            $("#fullscreen-img").attr("src", thumbnails[currentIndex]);
            $("#fullscreen-img").css("opacity", "1");
        }, 150);
    }

    // –û—Ç–∫—Ä—ã—Ç–∏–µ fullscreen
    $(document).on("mousedown touchstart", "#main-photo", function (e) {
        isDragging = false;
        startX = e.clientX || e.touches[0].clientX;
    });

    $(document).on("mousemove touchmove", "#main-photo", function (e) {
        const moveX = e.clientX || (e.touches ? e.touches[0].clientX : 0);
        if (Math.abs(moveX - startX) > 10) isDragging = true;
    });

    $(document).on("click", "#main-photo", function () {
        if (isDragging) return;
        collectThumbnails();
        const src = $(this).attr("src");
        currentIndex = thumbnails.indexOf(src);
        if (currentIndex < 0) currentIndex = 0;
        $("#fullscreen-img").attr("src", src);
        $("#fullscreen-view").fadeIn(200).css("display", "flex");
        $("body").css("overflow", "hidden");
    });

    // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ —Ñ–æ—Ç–æ
    $("#fullscreen-view").on("click", function (e) {
        if ($(e.target).is("#fullscreen-view")) {
            $(this).fadeOut(200);
            $("body").css("overflow", "auto");
        }
    });

    // –ù–∞–≤–∏–≥–∞—Ü–∏—è –∫–Ω–æ–ø–∫–∞–º–∏
    $("#fullscreen-prev").on("click", function (e) {
        e.stopPropagation();
        currentIndex = (currentIndex - 1 + thumbnails.length) % thumbnails.length;
        changeFullscreenPhoto();
    });

    $("#fullscreen-next").on("click", function (e) {
        e.stopPropagation();
        currentIndex = (currentIndex + 1) % thumbnails.length;
        changeFullscreenPhoto();
    });

    // Swipe –≤ fullscreen
    let fsStartX = 0;
    $("#fullscreen-view").on("touchstart", e => fsStartX = e.touches[0].clientX);
    $("#fullscreen-view").on("touchend", e => {
        const fsEndX = e.changedTouches[0].clientX;
        const diff = fsEndX - fsStartX;
        if (Math.abs(diff) > 40) {
            if (diff > 0) $("#fullscreen-prev").click();
            else $("#fullscreen-next").click();
        }
    });

    // === –ù–∞–≤–∏–≥–∞—Ü–∏—è —Å—Ç—Ä–µ–ª–∫–∞–º–∏ –Ω–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ ===
    $(document).on("keydown", function (e) {
        if (!$("#fullscreen-view").is(":visible")) return;
        if (e.key === "ArrowLeft") $("#fullscreen-prev").click();
        if (e.key === "ArrowRight") $("#fullscreen-next").click();
        if (e.key === "Escape") {
            $("#fullscreen-view").fadeOut(200);
            $("body").css("overflow", "auto");
        }
    });
});
</script>
<style>
    .product-media {
    background-color: #fff;
}


.arrow {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background-color: rgba(0, 0, 0, 0.5);
    color: white;
    border: none;
    font-size: 20px;
    padding: 8px 16px;
    border-radius: 50%;
    cursor: pointer;
    z-index: 10;
    transition: background-color 0.3s ease;
}

.arrow:hover {
    background-color: rgba(0, 0, 0, 0.8);
}

.arrow.left {
    left: -40px;
}

.arrow.right {
    right: -40px;
}

@media (max-width: 991px) {
    .arrow.left {
        left: 0px;
    }

    .arrow.right {
        right: 0px;
    }
}
</style>
    </body>
</html>